# Example configuration file for grid search
# Supports both YAML and JSON formats

general:
  # Program arguments that apply by default
  program_args:
    threshold: 0.95
    fixed_lambda: False
    optimizer: "sgd"
    evaluate_every_nth_epoch: 10
    train_from_ground_zero: true
    train_dataset_size: 1000
    output_filename: "caipi_expr/default_experiment.csv"
    no_lagrange: False

  # Grid search hyperparameters (default values)
  ce_num: [1, 2, 3, 4, 5]
  strategy: ["substitution", "marginalized_substitution", "alternative_value"]
  num_of_instances: [5]
  lr: [1.e-2, 1.e-3, 1.e-4]

specific:
  # Control strategy:
  control_lagrange_sgd_200:
    program_args:
      train_dataset_size: 200
      optimizer: "sgd"
      output_filename: "caipi_experiment/control_lagrange_sgd_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.07]
    initial_lambda: [1.07226722e-07,
                     1.70735265e-07, 2.71858824e-07, 4.32876128e-07, 6.89261210e-07,
                     1.09749877e-06, 1.74752840e-06, 2.78255940e-06, 4.43062146e-06,
                     7.05480231e-06, 1.12332403e-05, 1.78864953e-05, 2.84803587e-05,
                     4.53487851e-05, 7.22080902e-05, 1.14975700e-04, 1.83073828e-04,
                     2.91505306e-04, 4.64158883e-04, 7.39072203e-04, 1.17681195e-03,
                     1.87381742e-03, 2.98364724e-03, 4.75081016e-03, 7.56463328e-03,
                     1.20450354e-02, 1.91791026e-02, 3.05385551e-02, 4.86260158e-02,
                     7.74263683e-02, 1.23284674e-01, 1.96304065e-01, 3.12571585e-01,
                     4.97702356e-01, 7.92482898e-01, 1.26185688e+00, 2.00923300e+00,
                     3.19926714e+00, 5.09413801e+00, 8.11130831e+00, 1.29154967e+01,
                     2.05651231e+01, 3.27454916e+01, 5.21400829e+01, 8.30217568e+01,
                     1.32194115e+02, 2.10490414e+02, 3.35160265e+02, 5.33669923e+02,
                     8.49753436e+02, 1.35304777e+03]

  control_lagrange_adam_200:
    program_args:
      train_dataset_size: 200
      optimizer: "adam"
      output_filename: "caipi_experiment/control_lagrange_adam_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.003]
    initial_lambda: [1.00000000e-10, 1.59228279e-10, 2.53536449e-10, 4.03701726e-10,
       6.42807312e-10, 1.02353102e-09, 1.62975083e-09, 2.59502421e-09,
       4.13201240e-09, 6.57933225e-09, 1.04761575e-08, 1.66810054e-08,
       2.65608778e-08, 4.22924287e-08, 6.73415066e-08, 1.07226722e-07,
       1.70735265e-07, 2.71858824e-07, 4.32876128e-07, 6.89261210e-07,
       1.09749877e-06, 1.74752840e-06, 2.78255940e-06, 4.43062146e-06,
       7.05480231e-06, 1.12332403e-05, 1.78864953e-05, 2.84803587e-05,
       4.53487851e-05, 7.22080902e-05, 1.14975700e-04, 1.83073828e-04,
       2.91505306e-04, 4.64158883e-04, 7.39072203e-04, 1.17681195e-03,
       1.87381742e-03, 2.98364724e-03, 4.75081016e-03, 7.56463328e-03,
       1.20450354e-02, 1.91791026e-02, 3.05385551e-02, 4.86260158e-02,
       7.74263683e-02, 1.23284674e-01, 1.96304065e-01, 3.12571585e-01,
       4.97702356e-01, 7.92482898e-01, 1.26185688e+00, 2.00923300e+00,
       3.19926714e+00, 5.09413801e+00, 8.11130831e+00, 1.29154967e+01,
       2.05651231e+01, 3.27454916e+01, 5.21400829e+01, 8.30217568e+01,
       1.32194115e+02, 2.10490414e+02, 3.35160265e+02, 5.33669923e+02,
       8.49753436e+02, 1.35304777e+03, 2.15443469e+03, 3.43046929e+03,
       5.46227722e+03, 8.69749003e+03, 1.38488637e+04, 2.20513074e+04,
       3.51119173e+04, 5.59081018e+04, 8.90215085e+04, 1.41747416e+05,
       2.25701972e+05, 3.59381366e+05, 5.72236766e+05, 9.11162756e+05,
       1.45082878e+06, 2.31012970e+06, 3.67837977e+06, 5.85702082e+06,
       9.32603347e+06, 1.48496826e+07, 2.36448941e+07, 3.76493581e+07,
       5.99484250e+07, 9.54548457e+07, 1.51991108e+08, 2.42012826e+08,
       3.85352859e+08, 6.13590727e+08, 9.77009957e+08, 1.55567614e+09,
       2.47707636e+09, 3.94420606e+09, 6.28029144e+09, 1.00000000e+10]

  control_lagrange_sgd_1000:
    program_args:
      train_dataset_size: 1000
      optimizer: "sgd"
      output_filename: "caipi_experiment/control_lagrange_sgd_1000.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.07]
    initial_lambda: [1.00000000e-10, 1.59228279e-10, 2.53536449e-10, 4.03701726e-10,
                     6.42807312e-10, 1.02353102e-09, 1.62975083e-09, 2.59502421e-09,
                     4.13201240e-09, 6.57933225e-09, 1.04761575e-08, 1.66810054e-08,
                     2.65608778e-08, 4.22924287e-08, 6.73415066e-08, 1.07226722e-07,
                     1.70735265e-07, 2.71858824e-07, 4.32876128e-07, 6.89261210e-07,
                     1.09749877e-06, 1.74752840e-06, 2.78255940e-06, 4.43062146e-06,
                     7.05480231e-06, 1.12332403e-05, 1.78864953e-05, 2.84803587e-05,
                     4.53487851e-05, 7.22080902e-05, 1.14975700e-04, 1.83073828e-04,
                     2.91505306e-04, 4.64158883e-04, 7.39072203e-04, 1.17681195e-03,
                     1.87381742e-03, 2.98364724e-03, 4.75081016e-03, 7.56463328e-03,
                     1.20450354e-02, 1.91791026e-02, 3.05385551e-02, 4.86260158e-02,
                     7.74263683e-02, 1.23284674e-01, 1.96304065e-01, 3.12571585e-01,
                     4.97702356e-01, 7.92482898e-01, 1.26185688e+00, 2.00923300e+00,
                     3.19926714e+00, 5.09413801e+00, 8.11130831e+00, 1.29154967e+01,
                     2.05651231e+01, 3.27454916e+01, 5.21400829e+01, 8.30217568e+01,
                     1.32194115e+02, 2.10490414e+02, 3.35160265e+02, 5.33669923e+02,
                     8.49753436e+02, 1.35304777e+03, 2.15443469e+03, 3.43046929e+03,
                     5.46227722e+03, 8.69749003e+03, 1.38488637e+04, 2.20513074e+04,
                     3.51119173e+04, 5.59081018e+04, 8.90215085e+04, 1.41747416e+05,
                     2.25701972e+05, 3.59381366e+05, 5.72236766e+05, 9.11162756e+05,
                     1.45082878e+06, 2.31012970e+06, 3.67837977e+06, 5.85702082e+06,
                     9.32603347e+06, 1.48496826e+07, 2.36448941e+07, 3.76493581e+07,
                     5.99484250e+07, 9.54548457e+07, 1.51991108e+08, 2.42012826e+08,
                     3.85352859e+08, 6.13590727e+08, 9.77009957e+08, 1.55567614e+09,
                     2.47707636e+09, 3.94420606e+09, 6.28029144e+09, 1.00000000e+10]

  control_lagrange_adam_full:
    program_args:
      train_dataset_size: -1
      optimizer: "adam"
      output_filename: "caipi_experiment/control_lagrange_adam_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.003]
  control_lagrange_adam_1000:
    program_args:
      train_dataset_size: 1000
      optimizer: "adam"
      output_filename: "caipi_experiment/control_lagrange_adam_1000.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.003]
    initial_lambda: [1.00000000e-10, 1.59228279e-10, 2.53536449e-10, 4.03701726e-10,
                     6.42807312e-10, 1.02353102e-09, 1.62975083e-09, 2.59502421e-09,
                     4.13201240e-09, 6.57933225e-09, 1.04761575e-08, 1.66810054e-08,
                     2.65608778e-08, 4.22924287e-08, 6.73415066e-08, 1.07226722e-07,
                     1.70735265e-07, 2.71858824e-07, 4.32876128e-07, 6.89261210e-07,
                     1.09749877e-06, 1.74752840e-06, 2.78255940e-06, 4.43062146e-06,
                     7.05480231e-06, 1.12332403e-05, 1.78864953e-05, 2.84803587e-05,
                     4.53487851e-05, 7.22080902e-05, 1.14975700e-04, 1.83073828e-04,
                     2.91505306e-04, 4.64158883e-04, 7.39072203e-04, 1.17681195e-03,
                     1.87381742e-03, 2.98364724e-03, 4.75081016e-03, 7.56463328e-03,
                     1.20450354e-02, 1.91791026e-02, 3.05385551e-02, 4.86260158e-02,
                     7.74263683e-02, 1.23284674e-01, 1.96304065e-01, 3.12571585e-01,
                     4.97702356e-01, 7.92482898e-01, 1.26185688e+00, 2.00923300e+00,
                     3.19926714e+00, 5.09413801e+00, 8.11130831e+00, 1.29154967e+01,
                     2.05651231e+01, 3.27454916e+01, 5.21400829e+01, 8.30217568e+01,
                     1.32194115e+02, 2.10490414e+02, 3.35160265e+02, 5.33669923e+02,
                     8.49753436e+02, 1.35304777e+03, 2.15443469e+03, 3.43046929e+03,
                     5.46227722e+03, 8.69749003e+03, 1.38488637e+04, 2.20513074e+04,
                     3.51119173e+04, 5.59081018e+04, 8.90215085e+04, 1.41747416e+05,
                     2.25701972e+05, 3.59381366e+05, 5.72236766e+05, 9.11162756e+05,
                     1.45082878e+06, 2.31012970e+06, 3.67837977e+06, 5.85702082e+06,
                     9.32603347e+06, 1.48496826e+07, 2.36448941e+07, 3.76493581e+07,
                     5.99484250e+07, 9.54548457e+07, 1.51991108e+08, 2.42012826e+08,
                     3.85352859e+08, 6.13590727e+08, 9.77009957e+08, 1.55567614e+09,
                     2.47707636e+09, 3.94420606e+09, 6.28029144e+09, 1.00000000e+10]

  control_lagrange_sgd_200_ce_2:
    program_args:
      train_dataset_size: 200
      optimizer: "sgd"
      output_filename: "caipi_experiment/control_lagrange_sgd_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [2]
    lr: [0.07]
    initial_lambda: [1.07226722e-07,
                     1.70735265e-07, 2.71858824e-07, 4.32876128e-07, 6.89261210e-07,
                     1.09749877e-06, 1.74752840e-06, 2.78255940e-06, 4.43062146e-06,
                     7.05480231e-06, 1.12332403e-05, 1.78864953e-05, 2.84803587e-05,
                     4.53487851e-05, 7.22080902e-05, 1.14975700e-04, 1.83073828e-04,
                     2.91505306e-04, 4.64158883e-04, 7.39072203e-04, 1.17681195e-03,
                     1.87381742e-03, 2.98364724e-03, 4.75081016e-03, 7.56463328e-03,
                     1.20450354e-02, 1.91791026e-02, 3.05385551e-02, 4.86260158e-02,
                     7.74263683e-02, 1.23284674e-01, 1.96304065e-01, 3.12571585e-01,
                     4.97702356e-01, 7.92482898e-01, 1.26185688e+00, 2.00923300e+00,
                     3.19926714e+00, 5.09413801e+00, 8.11130831e+00, 1.29154967e+01,
                     2.05651231e+01, 3.27454916e+01, 5.21400829e+01, 8.30217568e+01,
                     1.32194115e+02, 2.10490414e+02, 3.35160265e+02, 5.33669923e+02,
                     8.49753436e+02, 1.35304777e+03]

  clear_lagrange_sgd_200:
    program_args:
      train_dataset_size: 200
      optimizer: "sgd"
      output_filename: "caipi_experiment/no_vs_lagrange/clear_lagrange_sgd_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.07]
    initial_lambda: [1]

  no_lagrange_sgd_200:
    program_args:
      train_dataset_size: 200
      optimizer: "sgd"
      output_filename: "caipi_experiment/no_vs_lagrange/no_lagrange_sgd_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True
      no_lagrange: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.07]
    initial_lambda: [1]

  clear_lagrange_adam_200:
    program_args:
      train_dataset_size: 200
      optimizer: "adam"
      output_filename: "caipi_experiment/no_vs_lagrange/clear_lagrange_adam_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100]
    lr: [0.07]
    initial_lambda: [1]

  no_lagrange_adam_200:
    program_args:
      train_dataset_size: 200
      optimizer: "adam"
      output_filename: "caipi_experiment/no_vs_lagrange/no_lagrange_adam_200.csv"
      train_from_ground_zero: True
      evaluate_every_nth_epoch: 1
      fixed_lambda: True
      no_lagrange: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100]
    lr: [0.07]
    initial_lambda: [1]

  clear_lagrange_adam_200_no_ground_zero:
    program_args:
      train_dataset_size: 200
      optimizer: "adam"
      output_filename: "caipi_experiment/no_vs_lagrange/clear_lagrange_adam_200_no_ground_zero.csv"
      train_from_ground_zero: False
      evaluate_every_nth_epoch: 1
      fixed_lambda: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.07]
    initial_lambda: [1]

  no_lagrange_adam_200_no_ground_zero:
    program_args:
      train_dataset_size: 200
      optimizer: "adam"
      output_filename: "caipi_experiment/no_vs_lagrange/no_lagrange_adam_200_no_ground_zero.csv"
      train_from_ground_zero: False
      evaluate_every_nth_epoch: 1
      fixed_lambda: True
      no_lagrange: True

    ce_num: [1]
    strategy: ["alternative_value"]
    num_of_instances: [1]
    lr: [0.07]
    initial_lambda: [1]
